<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>HTML Sanitizer Tests</title>
<script type="text/javascript" src="html4-defs.js"></script>
<script type="text/javascript" src="html-sanitizer.js"></script>
<script type="text/javascript" src="asserts.js"></script>
<script type="text/javascript" src="html-sanitizer-test.js"></script>
<script type="text/javascript" src="jsunit.js"></script>
<script type="text/javascript">//<![CDATA[
function handle(html) {
  try {
    html = html_sanitize(html);
    var escaped = html.replace(/&/g, '&amp;').replace(/</g, '&lt;');
    document.getElementById('out').innerHTML = escaped;
  } catch (e) {
    alert(e + '\n' + e.stack);
  }
}
//]]></script>

  </head>

  <body>
<script type="text/javascript">//<![CDATA[
for (var k in window) {
  if (!(/^test/.test(k) && 'function' == typeof window[k])) { continue; }
  document.writeln('<h2>' + k + '<\/h2>');
  try {
    window[k]();
    document.writeln('<h3>Passed</\h3>');
  } catch (e) {
    var msg = String(e);
    if ('object' === (typeof e) && 'stack' in e) {
      msg += '\n\n' + e.stack;
    }
    document.writeln('<h3>Failed<\/h3>');
    document.writeln(
        '<pre>' + msg.replace(/&/g, '&amp;').replace(/</g, '&lt;') + '<\/pre>');
  }
}
//]]></script>


<div id="out"></div>

<form onsubmit="handle(this.html.value); return false">
<input type="text" name="html" size="80" />
<input type="submit" />
</form>
  </body>
</html>
